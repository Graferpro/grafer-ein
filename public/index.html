<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Grafer Global | EIN Preparation Service</title>
  <meta name="description" content="Professional SS-4 preparation service for US EIN applications. Designed for non-US founders. Secure, compliant, and fast." />

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(10px);} to {opacity:1; transform:none;} }
    @keyframes slideUp { from { opacity:0; transform:translateY(20px);} to {opacity:1; transform:none;} }
    .no-scrollbar::-webkit-scrollbar { display:none; }
    .no-scrollbar { scrollbar-width:none; }
  </style>
</head>

<body class="bg-[#0f172a] text-slate-200">

<!-- HEADER -->
<header class="fixed top-0 w-full z-50 backdrop-blur bg-[#0f172a]/90 border-b border-white/5">
  <div class="max-w-6xl mx-auto px-6 h-20 flex justify-between items-center">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-600 to-emerald-800 flex items-center justify-center">
        <i class="fas fa-shield-halved text-white"></i>
      </div>
      <div>
        <span class="block font-bold text-xl text-white">Grafer<span class="text-emerald-400">Global</span></span>
        <span class="text-[10px] uppercase tracking-wider text-slate-400">
          SS-4 Preparation • IRS-Compliant
        </span>
      </div>
    </div>

    <button onclick="openChat()" class="px-6 py-2.5 bg-white text-[#0f172a] rounded-lg font-semibold hover:bg-slate-200">
      Talk to Specialist
    </button>
  </div>
</header>

<!-- HERO -->
<main class="pt-40 pb-24 px-6 text-center">
  <div class="max-w-4xl mx-auto">
    <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-900/30 border border-emerald-500/30 text-emerald-400 text-sm mb-8">
      <span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>
      EIN Specialists Online
    </div>

    <h1 class="text-5xl md:text-7xl font-extrabold text-white leading-tight mb-8">
      US EIN Preparation<br>
      <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-blue-500">
        Fast. Secure. Correct.
      </span>
    </h1>

    <p class="text-lg text-slate-400 max-w-2xl mx-auto mb-12">
      We help international founders prepare IRS Form SS-4 correctly.
      No SSN required. No IRS submission. Just clean, ready-to-file documents.
    </p>

    <button onclick="openChat()" class="px-10 py-5 bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-bold rounded-xl shadow-2xl hover:scale-105 transition">
      <i class="fas fa-comment-dots mr-2"></i> Start EIN Application
    </button>
  </div>
</main>

<!-- CHAT WIDGET -->
<div id="chat-widget" class="fixed bottom-6 right-6 z-50 hidden animate-[slideUp_0.4s]">
  <div class="w-[380px] h-[600px] bg-[#1e293b] border border-slate-700 rounded-2xl flex flex-col overflow-hidden">

    <!-- CHAT HEADER -->
    <div class="p-4 bg-gradient-to-r from-emerald-800 to-emerald-900 flex justify-between items-center">
      <div class="flex items-center gap-3">
        <img src="https://ui-avatars.com/api/?name=Michael+EIN&background=fff&color=059669" class="w-10 h-10 rounded-full border-2 border-emerald-400">
        <div>
          <p class="text-sm font-bold text-white">Michael T.</p>
          <p class="text-[10px] text-emerald-200">EIN & SS-4 Specialist • Online</p>
        </div>
      </div>
      <button onclick="closeChat()" class="text-white hover:text-red-400">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- CHAT BODY -->
    <div id="chat-messages" class="flex-1 p-5 overflow-y-auto bg-[#0f172a] space-y-4 no-scrollbar">
      <div class="text-center text-xs text-slate-400">
        Messages are encrypted • We do not submit to the IRS
      </div>

      <div id="start-options" class="mt-10 space-y-3">
        <button onclick="selectOption('I already have an LLC and need an EIN')" class="w-full p-3 bg-slate-800 border border-slate-700 rounded-xl hover:border-emerald-500 text-left">
          Apply for LLC EIN
        </button>

        <button onclick="selectOption('I need an EIN as an individual')" class="w-full p-3 bg-slate-800 border border-slate-700 rounded-xl hover:border-emerald-500 text-left">
          Apply as Individual
        </button>

        <button onclick="selectOption('Türkçe destek almak istiyorum')" class="w-full p-3 bg-slate-800 border border-slate-700 rounded-xl hover:border-emerald-500 text-left">
          Türkçe Destek
        </button>
      </div>
    </div>

    <!-- INPUT -->
    <div class="p-3 bg-[#1e293b] border-t border-slate-700">
      <form onsubmit="event.preventDefault(); sendMessage();" class="flex gap-2">
        <input id="user-input" class="flex-1 bg-slate-900 border border-slate-600 rounded-xl px-3 py-2 text-sm text-white" placeholder="Type your message...">
        <button type="submit" class="w-10 bg-emerald-600 rounded-xl text-white">
          <i class="fas fa-arrow-up"></i>
        </button>
      </form>
    </div>
  </div>
</div>

<script>
const chatWidget = document.getElementById("chat-widget");
const messagesArea = document.getElementById("chat-messages");
const startOptions = document.getElementById("start-options");
let messageHistory = [];

function openChat(){ chatWidget.classList.remove("hidden"); }
function closeChat(){ chatWidget.classList.add("hidden"); }

function selectOption(text){
  startOptions.style.display="none";
  document.getElementById("user-input").value=text;
  sendMessage();
}

async function sendMessage(){
  const input=document.getElementById("user-input");
  const msg=input.value.trim();
  if(!msg) return;

  messagesArea.innerHTML+=`
    <div class="text-right">
      <div class="inline-block bg-emerald-600 text-white text-sm p-3 rounded-xl">
        ${msg}
      </div>
    </div>`;
  input.value="";
  messageHistory.push({role:"user",content:msg});

  const res=await fetch("/api/chat",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({messages:messageHistory})
  });

  const data=await res.json();
  messagesArea.innerHTML+=`
    <div>
      <div class="inline-block bg-slate-800 text-slate-200 text-sm p-3 rounded-xl">
        ${data.reply}
      </div>
    </div>`;
}
</script>

</body>
</html>